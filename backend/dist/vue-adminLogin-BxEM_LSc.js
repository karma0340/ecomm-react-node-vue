import{r as n,c as r,o as i,a as e,b as _,t as v,w as c,v as m,d as g,e as f}from"./runtime-dom.esm-bundler-CKHVjIEV.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={class:"admin-login-container"},y={key:0,class:"error-message"},L={class:"form-group"},b={class:"form-group"},k=["disabled"],x={key:0},P={key:1},A={__name:"AdminLogin",setup(R){const l=n(""),d=n(""),a=n(window.__LOGIN_ERROR__||""),s=n(!1);async function p(){a.value="",s.value=!0;try{const t=await fetch("/admin/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:l.value,password:d.value}),credentials:"same-origin"});if(t.redirected){window.location.href=t.url;return}a.value="Login failed. Please try again."}catch{a.value="Network error. Please try again."}finally{s.value=!1}}return(t,o)=>(i(),r("div",h,[e("form",{class:"admin-login-form",onSubmit:g(p,["prevent"])},[o[2]||(o[2]=e("h2",null,"Admin Login",-1)),a.value?(i(),r("div",y,v(a.value),1)):_("",!0),e("div",L,[c(e("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>l.value=u),type:"text",placeholder:"Username",autocomplete:"username",required:""},null,512),[[m,l.value]])]),e("div",b,[c(e("input",{"onUpdate:modelValue":o[1]||(o[1]=u=>d.value=u),type:"password",placeholder:"Password",autocomplete:"current-password",required:""},null,512),[[m,d.value]])]),e("button",{type:"submit",disabled:s.value},[s.value?(i(),r("span",x,"Logging in...")):(i(),r("span",P,"Login"))],8,k)],32)]))}},N=w(A,[["__scopeId","data-v-c5d4727e"]]);f(N).mount("#vue-admin-login");
