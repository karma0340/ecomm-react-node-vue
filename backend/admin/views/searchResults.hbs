<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<style>
  .result-section {
    animation: fadeIn 0.6s;
    margin-bottom: 2rem;
  }
  @keyframes fadeIn {
    from {opacity:0; transform:translateY(32px);}
    to {opacity:1; transform:none;}
  }
  .result-badge {
    font-size: .9rem;
    background: linear-gradient(90deg,#2563eb,#4f8cff);
    color: #fff;
    padding: 0.3em 0.8em;
    border-radius: 1em;
    margin-left: 7px;
  }
  .result-list { 
    list-style: none; 
    padding: 0;
    margin: 0; 
  }
  .result-list li {
    margin-bottom: .6em;
    transition: box-shadow 0.2s, background 0.2s;
    border-radius: 12px;
    padding: 0.55em 1em;
  }
  .result-list li:hover {
    background: #e7f0fd;
    box-shadow: 0 2px 8px rgba(64,130,255,.09);
  }
  .avatar-sm {
    width: 38px; height: 38px; object-fit: cover; border-radius: 50%; margin-right: .7em; background: #e0e7ff; color: #3653ec; display: inline-flex; align-items: center; justify-content: center; font-weight:600; font-size:1rem;
  }
  .fade-in {
    animation: fadeIn 0.7s;
  }
</style>

<h2 class="mb-4">Search results for "<span class="text-primary">{{query}}</span>"</h2>

<div class="fade-in">

{{#if (or results.users.length results.products.length)}}

  {{#if results.users.length}}
    <div class="result-section">
      <h4>
        <span class="result-badge">Users</span>
      </h4>
      <ul class="result-list">
        {{#each results.users}}
        <li>
          <a href="/users/{{this.id}}" class="d-flex align-items-center text-decoration-none text-dark">
            {{#if this.avatar}}
              <img src="{{this.avatar}}" alt="avatar" class="avatar-sm me-2">
            {{else}}
              <span class="avatar-sm me-2">{{this.name.[0]}}</span>
            {{/if}}
            <span>
              <strong>{{this.name}}</strong>
              {{#if this.email}}
                <span class="text-muted small">&lt;{{this.email}}&gt;</span>
              {{/if}}
            </span>
          </a>
        </li>
        {{/each}}
      </ul>
    </div>
  {{/if}}

  {{#if results.products.length}}
    <div class="result-section">
      <h4>
        <span class="result-badge bg-success">Products</span>
      </h4>
      <ul class="result-list">
        {{#each results.products}}
        <li>
          <a href="/products/{{this.id}}" class="d-flex align-items-center text-decoration-none text-dark">
            <span class="avatar-sm bg-light border me-2">
              <i class="bi bi-box fs-5"></i>
            </span>
            <span>
              <strong>{{this.name}}</strong>
              {{#if this.price}}<span class="text-primary ms-2">â‚¹{{this.price}}</span>{{/if}}
              {{#if this.category}}<span class="badge bg-secondary ms-2">{{this.category}}</span>{{/if}}
            </span>
          </a>
        </li>
        {{/each}}
      </ul>
    </div>
  {{/if}}

{{else}}
  <div class="text-center py-5">
    <img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f50d.svg" width="54" height="54" class="mb-3 fade-in" alt="No results">
    <h5 class="text-muted fade-in">No results found.</h5>
    <div class="small text-secondary fade-in">Try another keyword or check for typos.</div>
  </div>
{{/if}}

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.js"></script>
